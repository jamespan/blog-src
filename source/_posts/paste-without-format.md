title: 那些关于去除剪贴板中富文本格式的故事
tags:
  - Tool
  - OS X
categories:
  - Study
cc: true
comments: true
date: 2015-01-28 06:13:42
---

# 背景

我工作时候使用的 IM 是阿里旺旺 Mac 版。虽然我厂是个体量可以排到全球前几的互联网企业，但是在这里，Mac 用户依然不是太多，因此内部工具的 Mac 版本也就不太完善。

我经常需要从 IDE 里复制代码粘贴到 IM 发送给同事，从 IDEA 中复制出来的代码是带有格式的富文本，粘贴到 IM 之后不仅把深色的背景、高亮的颜色全都贴进去了，还带来一个挺大的副作用，新输入的文字，都有着和代码一样的颜色和背景色。要想让输入的文本变得正常，最快的方式莫过于 ⌘Q 然后重新运行 IM。

为了从频繁地重启 IM 中解脱出来，我决定做些什么。

<!-- more --><!-- indicate-the-source -->

{% recruit %}

# 尝试

纯文本是程序猿的好朋友。我想要这样一个东西，虽然我剪贴板中的内容是富文本，但是在我粘贴的时候，得到的是纯文本。

## 原生

对于那些 OS X 原生的应用，是自带这样的功能的，叫做 Paste and Match Style，通过快捷键 ⌥⇧⌘V 触发。

对于那些非原生的应用，则自求多福了。

## ClipMenu

那时候我有在使用一个叫做 [ClipMenu][1] 的剪贴板管理工具。在粘贴纯文本的时候，通过快捷键 ⌘⇧V 触发，弹出最近的几条剪贴板历史，右键希望粘贴的剪贴板记录，在弹出的菜单中单击 Paste as Plain Text 子菜单。

我觉得这样的操作太过繁琐，应该有更加简便快捷的实现。

## Plain Clip

几经寻找，发现一个轻巧的 App，叫做 [Plain Clip][2]，可以通过 brew cask 安装。

这个 App 没有图形界面，点击图标执行后，剪贴板中的富文本就被处理成了纯文本，然后就可以粘贴到想粘贴的地方去了。

网络上都推荐把这个 App 的图标拖到 Dock 上，然后可以直接点击 Dock 图标来将剪贴板的富文本变成纯文本。

作为一个大学期间认真学习过《人本界面》的码农，我对这种交互方式的效率感到怀疑。Dock 肯定贴在屏幕的某个边界，假设鼠标位于屏幕正中央，为了完成粘贴纯文本的动作，我首先要把鼠标移动到屏幕边缘，然后单击，然后把鼠标移回原位。考虑到苹果对 Dock 图标的点击命中做了优化，即有效点击半径远大于图标半径，移动鼠标的时间和屏幕大小正相关，将鼠标移回原位的耗时约为移动鼠标点击图标的 2 倍，而且这个完成操作的时间基本上没法随着熟练程度的增加而减少。

我个人比较推荐的方式是键盘操作。无论使用 Spotlight 还是 Alfred 作为应用启动器，都只需要 2 次击键。完成应用的搜索定位也只需要 2 次击键，加上执行程序的回车击键，总共也就 5 次键。而且随着熟练程度的提高，操作速度会越来越快，比如我完成这样的应用启动耗时在 1 秒以内。

## Get Plain Text

即使我能够在 1 秒钟内完成富文本的去格式，我还是需要在完成粘贴动作前付出思考的时间和操作的时间。假如我在粘贴忘记去除格式，那我只能重启 IM 了。

[Get Plain Text][3] 就是这么一款在交互上做到极致的 App。富文本对我而言是一种负担，让我时时刻刻提心吊胆要去清除格式。我希望有这么一个应用能够帮助我自动把剪贴板中的富文本变成纯文本，而 Get Plain Text 恰恰做到了。

这个应用提供了一个选项，Automatically clear formatting，一旦勾选它就会自动将剪贴板中富文本的格式清除，从此我只需要复制、粘贴，不用再去考虑文本格式的问题。

对于那些仅仅是偶尔需要粘贴纯文本的用户，可以选择不去勾选 Automatically clear formatting，在需要粘贴纯文本的时候使用 Get Plain Text 提供的快捷键 ⌘⇧K 即可。

曾经这个应用卖到了 18 CNY，如今在 [iTunes][4] 上免费获取。

# 总结

这一次为了满足我摆脱富文本的小需求，尝试了 3 个应用，在使用 Plain Clip 的过程中还试图写 Apple Script 将去除富文本格式的过程自动化，不幸以失败告终。最后幸运地找到了 Get Plain Text，相信在接下来的日子里，它能为我节省不少时间。

[1]: http://www.clipmenu.com
[2]: http://www.bluem.net/en/mac/plain-clip/
[3]: http://zipzapmac.com/getplaintext
[4]: https://itunes.apple.com/cn/app/get-plain-text/id508368068
